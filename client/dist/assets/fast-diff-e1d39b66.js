var Q,P;function G(){if(P)return Q;P=1;var S=-1,E=1,o=0;function f(r,n){if(r==n)return r?[[o,r]]:[];var a=N(r,n),l=r.substring(0,a);r=r.substring(a),n=n.substring(a),a=O(r,n);var i=r.substring(r.length-a);r=r.substring(0,r.length-a),n=n.substring(0,n.length-a);var e=z(r,n);return l&&e.unshift([o,l]),i&&e.push([o,i]),j(e),e}function z(r,n){var a;if(!r)return[[E,n]];if(!n)return[[S,r]];var l=r.length>n.length?r:n,i=r.length>n.length?n:r,e=l.indexOf(i);if(e!=-1)return a=[[E,l.substring(0,e)],[o,i],[E,l.substring(e+i.length)]],r.length>n.length&&(a[0][0]=a[2][0]=S),a;if(i.length==1)return[[S,r],[E,n]];var g=C(r,n);if(g){var v=g[0],u=g[1],_=g[2],D=g[3],T=g[4],R=f(v,_),m=f(u,D);return R.concat([[o,T]],m)}return B(r,n)}function B(r,n){for(var a=r.length,l=n.length,i=Math.ceil((a+l)/2),e=i,g=2*i,v=new Array(g),u=new Array(g),_=0;_<g;_++)v[_]=-1,u[_]=-1;v[e+1]=0,u[e+1]=0;for(var D=a-l,T=D%2!=0,R=0,m=0,M=0,F=0,p=0;p<i;p++){for(var h=-p+R;h<=p-m;h+=2){var b=e+h,s;h==-p||h!=p&&v[b-1]<v[b+1]?s=v[b+1]:s=v[b-1]+1;for(var w=s-h;s<a&&w<l&&r.charAt(s)==n.charAt(w);)s++,w++;if(v[b]=s,s>a)m+=2;else if(w>l)R+=2;else if(T){var t=e+D-h;if(t>=0&&t<g&&u[t]!=-1){var c=a-u[t];if(s>=c)return U(r,n,s,w)}}}for(var A=-p+M;A<=p-F;A+=2){var t=e+A,c;A==-p||A!=p&&u[t-1]<u[t+1]?c=u[t+1]:c=u[t-1]+1;for(var I=c-A;c<a&&I<l&&r.charAt(a-c-1)==n.charAt(l-I-1);)c++,I++;if(u[t]=c,c>a)F+=2;else if(I>l)M+=2;else if(!T){var b=e+D-A;if(b>=0&&b<g&&v[b]!=-1){var s=v[b],w=e+s-b;if(c=a-c,s>=c)return U(r,n,s,w)}}}}return[[S,r],[E,n]]}function U(r,n,a,l){var i=r.substring(0,a),e=n.substring(0,l),g=r.substring(a),v=n.substring(l),u=f(i,e),_=f(g,v);return u.concat(_)}function N(r,n){if(!r||!n||r.charAt(0)!=n.charAt(0))return 0;for(var a=0,l=Math.min(r.length,n.length),i=l,e=0;a<i;)r.substring(e,i)==n.substring(e,i)?(a=i,e=a):l=i,i=Math.floor((l-a)/2+a);return i}function O(r,n){if(!r||!n||r.charAt(r.length-1)!=n.charAt(n.length-1))return 0;for(var a=0,l=Math.min(r.length,n.length),i=l,e=0;a<i;)r.substring(r.length-i,r.length-e)==n.substring(n.length-i,n.length-e)?(a=i,e=a):l=i,i=Math.floor((l-a)/2+a);return i}function C(r,n){var a=r.length>n.length?r:n,l=r.length>n.length?n:r;if(a.length<4||l.length*2<a.length)return null;function i(m,M,F){for(var p=m.substring(F,F+Math.floor(m.length/4)),h=-1,b="",s,w,t,c;(h=M.indexOf(p,h+1))!=-1;){var A=N(m.substring(F),M.substring(h)),I=O(m.substring(0,F),M.substring(0,h));b.length<I+A&&(b=M.substring(h-I,h)+M.substring(h,h+A),s=m.substring(0,F-I),w=m.substring(F+A),t=M.substring(0,h-I),c=M.substring(h+A))}return b.length*2>=m.length?[s,w,t,c,b]:null}var e=i(a,l,Math.ceil(a.length/4)),g=i(a,l,Math.ceil(a.length/2)),v;if(!e&&!g)return null;g?e?v=e[4].length>g[4].length?e:g:v=g:v=e;var u,_,D,T;r.length>n.length?(u=v[0],_=v[1],D=v[2],T=v[3]):(D=v[0],T=v[1],u=v[2],_=v[3]);var R=v[4];return[u,_,D,T,R]}function j(r){r.push([o,""]);for(var n=0,a=0,l=0,i="",e="",g;n<r.length;)switch(r[n][0]){case E:l++,e+=r[n][1],n++;break;case S:a++,i+=r[n][1],n++;break;case o:a+l>1?(a!==0&&l!==0&&(g=N(e,i),g!==0&&(n-a-l>0&&r[n-a-l-1][0]==o?r[n-a-l-1][1]+=e.substring(0,g):(r.splice(0,0,[o,e.substring(0,g)]),n++),e=e.substring(g),i=i.substring(g)),g=O(e,i),g!==0&&(r[n][1]=e.substring(e.length-g)+r[n][1],e=e.substring(0,e.length-g),i=i.substring(0,i.length-g))),a===0?r.splice(n-l,a+l,[E,e]):l===0?r.splice(n-a,a+l,[S,i]):r.splice(n-a-l,a+l,[S,i],[E,e]),n=n-a-l+(a?1:0)+(l?1:0)+1):n!==0&&r[n-1][0]==o?(r[n-1][1]+=r[n][1],r.splice(n,1)):n++,l=0,a=0,i="",e="";break}r[r.length-1][1]===""&&r.pop();var v=!1;for(n=1;n<r.length-1;)r[n-1][0]==o&&r[n+1][0]==o&&(r[n][1].substring(r[n][1].length-r[n-1][1].length)==r[n-1][1]?(r[n][1]=r[n-1][1]+r[n][1].substring(0,r[n][1].length-r[n-1][1].length),r[n+1][1]=r[n-1][1]+r[n+1][1],r.splice(n-1,1),v=!0):r[n][1].substring(0,r[n+1][1].length)==r[n+1][1]&&(r[n-1][1]+=r[n+1][1],r[n][1]=r[n][1].substring(r[n+1][1].length)+r[n+1][1],r.splice(n+1,1),v=!0)),n++;v&&j(r)}var q=f;return q.INSERT=E,q.DELETE=S,q.EQUAL=o,Q=q,Q}export{G as r};
